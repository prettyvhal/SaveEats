<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SaveEats</title>
  <link rel="stylesheet" href="Scripts/site/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Anton&display=swap">


  <link href="Resources/master-toggle.css" rel="stylesheet">
  <link href="Resources/clicks-toggle.css" rel="stylesheet">
  <link href="Resources/color-palette.css" rel="stylesheet">
  <link href="Resources/log-out.css" rel="stylesheet">

  <!-- CSS for dark mode toggle button -->
  <link href="Resources/dark-mode-toggle.css" rel="stylesheet">

  <!-- Dark Reader API via jsDelivr CDN-->
  <script src="https://cdn.jsdelivr.net/npm/darkreader/darkreader.min.js"></script>
  
  <meta name="theme-color" content="#a3e4f9" />
  <link href="Resources/assets/icon1.png" rel="shortcut icon" type="image/x-icon" />
  <link href="Resources/assets/icon1.png" rel="apple-touch-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <noscript>
    <style>
      body {
        overflow: auto !important;
      }

      #main {
        opacity: 1.0 !important;
        transform: none !important;
        transition: none !important;
        filter: none !important;
      }

      #main>.inner>section {
        opacity: 1.0 !important;
        transform: none !important;
        transition: none !important;
        filter: none !important;
      }

      #main>.inner>section>* {
        opacity: 1.0 !important;
        transform: none !important;
        transition: none !important;
        filter: none !important;
      }
    </style>
  </noscript>
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 40"
    display="none" width="0" height="0">
    <symbol id="icon-8c067c2a901577560a630158598faca2" viewBox="0 0 40 40">
      <path
        d="M36.1,23.4c-0.8,3.5-2.6,6.1-5.3,8.5c-6.4,5.9-13.8,4.1-20.1-0.8 c-2.1-1.6-3.4-3.3-5-5.3c-0.5-0.6-1.7-1.7-1.1-2.5c0.1-0.2,0.9-0.6,1.1-0.6c1-0.2,0.9,0.5,1.4,1c2.6,3.4,5.4,6.1,9.3,8 c2.4,1.2,4.2,1.5,6.9,1.4c4.1-0.3,8.9-5.3,10.1-9c0.3-1.1,0.4-2.3,0.7-3.3c0.1-0.2,0.3-0.5,0.5-0.6c0.5-0.1,1.7-0.1,1.8,0.5 C36.6,21.2,36.3,22.7,36.1,23.4z M27.3,21.2c-0.5,0.2-1.1-0.1-1.3-0.5c-0.3-0.6-0.5-2-0.7-2.7c-0.8-3.7-1.4-7.7-3.6-10.9 c-0.2-0.3-0.6-0.3-0.8-0.4c-0.4-0.3-0.4-1.3-0.2-1.7c0-0.1,0.8-0.6,0.9-0.6c0.3-0.1,0.6,0,0.9,0.1c0.2,0.1,1.2,1,1.3,1.3 c2.3,3.7,2.9,7.3,3.8,11.5c0.2,0.7,0.7,2,0.7,2.6c0,0.3,0,0.6-0.2,0.8C28.1,20.7,27.4,21.2,27.3,21.2z M14.1,21.6 c-0.3-0.4-0.3-1.6-0.4-2.1c-0.6-3.4-2.3-7.1-4.4-9.9C9.1,9.3,8,8.2,7.9,7.9c-0.1-0.4-0.1-1,0.2-1.3c0.3-0.2,1.3-0.3,1.6-0.2 c0.4,0.2,0.8,0.8,1.1,1.1c2.4,2.8,4.3,6.5,5.1,10.2c0.2,1,0.6,2.8,0.4,3.7C16.2,22.2,14.5,22.1,14.1,21.6z" />
    </symbol>
  </svg>

  <div id="cursorCircle"></div>

  <div class="loading-screen">
    <div class="loading-animation"></div>
      <div class="waves back">
        <svg viewBox="0 24 150 28" preserveAspectRatio="none">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
          </defs>
          <g class="wave-group">
            <use xlink:href="#gentle-wave" x="48" y="5"></use>
            <use xlink:href="#gentle-wave" x="20" y="7"></use>
            <use xlink:href="#gentle-wave" x="80" y="17"></use>
          </g>
        </svg>
      </div>
      
      <div class="waves front">
        <svg viewBox="0 24 150 28" preserveAspectRatio="none">
          <defs>
            <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
          </defs>
          <g class="wave-group">
            <use xlink:href="#gentle-wave" x="60" y="10"></use>
            <use xlink:href="#gentle-wave" x="30" y="23"></use>
            <use xlink:href="#gentle-wave" x="48" y="5"></use>
          </g>
        </svg>
      </div>
  </div>

    <button class="log-out-toggle">
        <i class="fa-solid fa-power-off"></i>
    </button>

    <!-- Master Toggle -->
    <button class="master-toggle">
      <i class="fa-solid fa-angles-left"></i>
    </button>
  
    <!-- Hidden buttons -->
    <div class="extra-buttons">
      <button class="toggle-modal-btn">
        <i class="fa-solid fa-square-minus"></i>
      </button>
      
      <button class="palette-btn">
        <i class="fa-solid fa-brush"></i>
      </button>
      
      <button class="clicks-btn">
        <i class="fa-solid fa-volume-high"></i>
      </button>

      <button class="dark-mode-toggle">
        <i class="fa-solid fa-moon"></i>
      </button>
    </div>
  
  <!-- Palette Options -->
  <div class="palette-options">
    <div class="palette" data-palette="red"></div>
    <div class="palette" data-palette="orange"></div>
    <div class="palette" data-palette="green"></div>
    <div class="palette" data-palette="blue"></div>
    <div class="palette" data-palette="purple"></div>
    <div class="palette" data-palette="pink"></div>
    <div class="palette" data-palette="hue-shift"></div>
    <div class="hue-shift-control">
      <input type="range" id="hue-slider" min="0" max="360" value="0">
    </div>
  </div>

  <div class="background-scene">
    <div class="waves back">
      <svg viewBox="0 24 150 28" preserveAspectRatio="none">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
        </defs>
        <g class="wave-group">
          <use xlink:href="#gentle-wave" x="48" y="5"></use>
          <use xlink:href="#gentle-wave" x="20" y="7"></use>
          <use xlink:href="#gentle-wave" x="80" y="17"></use>
        </g>
      </svg>
    </div>
    
    <div class="waves front">
      <svg viewBox="0 24 150 28" preserveAspectRatio="none">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
        </defs>
        <g class="wave-group">
          <use xlink:href="#gentle-wave" x="60" y="10"></use>
          <use xlink:href="#gentle-wave" x="30" y="23"></use>
          <use xlink:href="#gentle-wave" x="48" y="5"></use>
        </g>
      </svg>
    </div>
    
  </div>

  <div class="window-container main-window">
    <div class="window-frame-home">
      <div class="window-header1">
        <div class="profile-pic-wrapper1">
          <img id="profileImageHome" src="Resources/assets/profile.jpg" class="profile-img1">
        </div>
        <span class="window-title2">home: SaveEats</span>
      </div>
      <div class="home-window-content">

        <!-- HERO / WELCOME -->
          <div class="home-hero">
            <div class="hero-text">
              <h2>Welcome to <span class="cad-name-special">SaveEats</span></h2>
              <p>Find affordable meals before they expire and help reduce food waste.</p>
            </div>
            <div class="hero-image">
              <img src="Resources/assets/salad.png" class="salad-img">
            </div>
          </div>

          <div class="bg-container">
            <div class="tab-switcher">
              <button class="tab-btn active" data-tab="restaurants">Restaurants</button>
              <button class="tab-btn" data-tab="reserved">Reserved Items</button>
            </div>

            <!-- RESTAURANT GRID -->
            <div class="restaurant-grid" id="restaurantGrid" data-tab-content="restaurants"></div>

            <!-- RESERVED ITEMS GRID -->
            <div class="items-grid" id="reservedGrid" data-tab-content="reserved" style="display:none;"></div>

          </div>

          <div id="homeEmptyState" class="home-empty" style="display: none;">
            <i class="fa-solid fa-utensils"></i>
            <p>No available restaurants right now.</p>
          </div>
        
      </div>
    </div>

  </div>

  <!-- resto modal -->
  <div id="resto-modal" class="modal-container">
    <div class="modal-window">
      <div class="modal-window-base modal-large">
        <div class="window-header handle">
          <span class="window-title1" id="restoName">restoName</span>
          <button class="close-btn">&times;</button>
        </div>
          <div class="modal-content">

          <div class="fb-header">
            <div class="banner-container">
              <img id="bannerImage" src="Resources/assets/banner.webp" class="banner-img">
              <input type="file" id="bannerInput" hidden>
            </div>

            <div class="profile-row">
              <div class="profile-pic-wrapper">
                <img id="profileImage" src="Resources/assets/profile.jpg" class="profile-img">
                <input type="file" id="profileInput" hidden>
              </div>

              <div class="profile-info">
                  <h2 id="restoName1">Restaurant Name</h2>
                  <p id="restoEmail">email@example.com</p>
              </div>
              
              <div class="form-grid3">
                <div class="items-filter">
                  <label>Sort by:</label>
                  <select id="sortField" class="sort">
                    <option value="name">Name</option>
                    <option value="createdAt">Date Added</option>
                    <option value="expiryTime">Expiry Date</option>
                    <option value="originalPrice">Original Price</option>
                    <option value="discountedPrice">Discounted Price</option>
                  </select>

                  <select id="sortOrder" class="sort">
                    <option value="asc">Ascending</option>
                    <option value="desc">Descending</option>
                  </select>
                </div>
              </div>
                
            </div>
          </div>

          <div class="project-grid-container">
            <div class="form-grid3">
              <div id="itemsGrid" class="items-grid"></div>
            </div>
          </div>

        </div>
      </div>
      <div class="nav-bar"></div>
    </div>
  </div>

  <!-- Items -->
  <div id="Items-modal" class="modal-container">
    <div class="modal-window">
      <div class="modal-window-base modal-medium">
        <div class="window-header handle">
          <span class="window-title" id="itemTitle">Item:</span>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-content ">

          <form id="addItemForm">

            <!-- IMAGE PREVIEW -->
            <div class="form-grid3">
              <img id="itemPreviewImage" src="Resources/assets/food.png" class="item-preview-img">
            </div>

            <!-- ITEM NAME -->
            <div class="form-grid3">
              <label>Item Name</label>
              <input type="text" id="itemName" required>
            </div>

            <!-- DESCRIPTION -->
            <div class="form-grid3">
              <label>Description</label>
              <textarea id="itemDescription" rows="3"></textarea>
            </div>

            <!-- ORIGINAL PRICE -->
            <div class="form-grid3">
              <label>Original Price (₱)</label>
              <input type="number" id="itemOriginalPrice" required>
            </div>

            <!-- DISCOUNTED PRICE -->
            <div class="form-grid3">
              <label>Discounted Price (₱)</label>
              <input type="number" id="itemDiscountedPrice" required>
            </div>

            <!-- ITEM QUANTITY -->
            <div class="form-grid3">
              <label>Item Quantity</label>
              <input type="number" id="itemQuantity" required>
            </div>

            <!-- EXPIRATION TIME -->
            <div class="form-grid3">
              <label>Time to Expire</label>
              <input type="text" id="itemExpiry" required>
            </div>

            <!-- BUTTON -->
            <div class="bg-container">
              <div class="form-grid1">
                <button type="button" class="submit-btn" id="reserveItemBtn">Reserve Item</button>
                <button type="button" class="submit-btn" id="redeemItemBtn">Redeem Item</button>
              </div>
            </div>

          </form>

        </div>
      </div>
      <div class="nav-bar"></div>
    </div>
  </div>

  <!-- profile img -->
  <div id="profile-img-modal" class="modal-container">
    <div class="modal-window">
      <div class="modal-window-base modal-frame">
        <div class="window-header handle">
          <span class="window-title">Editing your profile photo</span>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-content ">
          <div class="bg-container">

              <div class="form-grid2">

                <div class="crop-preview-container">
                  <canvas id="cropCanvas" width="200" height="200"></canvas>
                </div>

                <input type="text" id="usernameInput" placeholder="username" required>
                
                <input type="file" id="profileSelectInput" accept="image/*" hidden>
                <button type="button" id="profileSelectBtn" class="submit-btn1">
                  <i class="fa-solid fa-image"></i> Change Profile Photo
                </button>

                <button class="submit-btn" id="saveProfileImage">Save</button>

              </div>

          </div>
        </div>
      </div>
      <div class="nav-bar"></div>
    </div>
  </div>

  <!-- QR SLIDE-UP MODAL -->
  <div class="qr-backdrop" id="qrBackdrop"></div>
  <div id="qrSlideModal" class="qr-slide-modal">
    <div class="qr-slide-content">
      <div class="qr-slide-header">
        <div class="drag-bar"></div>
      </div>

      <div class="qr-center">
        <canvas id="qrCanvas"></canvas>
        <p class="qr-note">Show this QR code at the restaurant to redeem your item</p>
      </div>
    </div>
  </div>

  <!-- Submitted card -->
  <div id="submit-modal" class="modal-container">
    <div class="modal-window">
      <div class="modal-window-base modal-submit">
        <div class="window-header handle">
          <span class="window-title">Status</span>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-content ">
          <div class="profile-container">
            <div class="profile-header">
              <div class="profile-name">
                <h1><span class="cad-name">Sent!</span></h1>
                <i class="fa-solid fa-heart fa-bounce"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="nav-bar"></div>
      </div>
    </div>
  </div>

  <!-- Error card -->
  <div id="error-modal" class="modal-container">
    <div class="modal-window">
      <div class="modal-window-base modal-error">
        <div class="window-header handle">
          <span class="window-title">Status</span>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-content ">
          <div class="profile-container">
            <div class="profile-header">
              <div class="profile-name">
                <h1><span class="cad-name">Error!</span></h1>
                <i class="fa-solid fa-heart-crack fa-shake"></i>
              </div>
            </div>
          </div>

          <div class="about-section">
            <h3 class="error-message"></h3>
          </div>

        </div>
        <div class="nav-bar"></div>
      </div>
    </div>
  </div>

  <!-- Notif card -->
  <div id="notif-modal" class="modal-container">
    <div class="modal-window">
      <div class="modal-window-base modal-error">
        <div class="window-header handle">
          <span class="window-title">Status</span>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-content ">
          <div class="profile-container">
            <div class="profile-header">
              <div class="profile-name">
                <i class="fa-solid fa-heart fa-bounce"></i>
              </div>
            </div>
          </div>

          <div class="about-section">
            <h3 class="notif-message"></h3>
          </div>

        </div>
        <div class="nav-bar"></div>
      </div>
    </div>
  </div>

  </script>
  <script src="Scripts/site/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <script src="Resources/dark-mode-toggle.js"></script>
  <script src="Resources/clicks.js"></script>
  <script src="Resources/master-toggle.js"></script>a
  <script type="module" src="Resources/color-palette-toggle.js"></script>
  <script src="Resources/cursor.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.4/dist/confetti.browser.min.js"></script>
  <script type="module" src="Scripts/site/firebase-init.js"></script>
  <script type="module" src="Scripts/site/auth.js"></script>
  <script type="module" src="Scripts/site/user.js"></script>
  </script>

  <script>
    window.addEventListener('load', () => {
      const loadingScreen = document.querySelector('.loading-screen');
      setTimeout(() => {
        loadingScreen.style.opacity = '0';
        setTimeout(() => {
          loadingScreen.style.display = 'none';
        }, 500);
      }, 1500);
    });
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.1
    });

    document.querySelectorAll('section').forEach(section => {
      observer.observe(section);
    });
  </script>
</body>

</html>